<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .images{
            display: flex;
            flex-direction: column;
        }
        .p-image{
            display: flex;
        }
    </style>
</head>
<body>

    <div class="images" id = "proposal_images">
        <label onclick="addImage()" for="">add image</label>
    </div>
    <script>
        var imgCount = 0;
        function addImage()
        {
            let imgCode = "img";
            imgCount++;
            let imgId= imgCode+imgCount;
            let span = document.createElement("span");
            span.id = imgId;
            span.setAttribute("class", "p-image");

            let img = document.createElement("input");
            img.type="file";
            img.name = "p_image[]";
            
            span.append(img);

            let label = document.createElement("label");
            label.setAttribute("onclick", "removeImage('"+imgId+"')");
            label.textContent ="remove";

            span.appendChild(label);


            let labelCount = document.createElement("label");
            labelCount.textContent =imgCount;
            span.appendChild(labelCount);

            let p_images = document.getElementById("proposal_images");
            p_images.append(span);

        }

        function removeImage(id){
            document.getElementById("proposal_images").removeChild(document.getElementById(id));
        }
    </script>
</body>
</html>